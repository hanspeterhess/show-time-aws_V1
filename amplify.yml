version: 1
applications:
  - frontend:
      buildPath: '/'
      phases:
        preBuild:
          commands:
            - yarn install
        build:
          commands:
            - yarn build --cwd frontend
      artifacts:
        baseDirectory: frontend/build
        files:
          - '**/*'
      cache:
        # Correct cache path for Yarn
        paths:
          - node_modules/**/*
          - frontend/node_modules/**/*
          - ~/.yarn_cache/**/* # Add this line for Yarn's global cache if needed
      runtime-versions:
        nodejs: 20      